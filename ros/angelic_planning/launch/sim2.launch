<launch>
  <master auto="start"/>

 
<!--  
  <env name="ROBOT" value="sim"/>
  <include file="$(find rosclj)/sim1.launch"/> 
-->

  <include file="$(find 2dnav_pr2)/rviz/rviz_move_base.launch"/>
  <include file="$(find 3dnav_pr2)/launch/perception/laser-perception.launch"/> 
  <include file="$(find 3dnav_pr2)/launch/planning/ompl_fake_planning.launch"/> 
  <include file="$(find 3dnav_pr2)/launch/actions/left_arm.launch"/> 
  <include file="$(find 3dnav_pr2)/launch/actions/right_arm.launch"/> 

  <rosparam command="load" file="$(find pr2_default_controllers)/pr2_joint_position_controllers.yaml"/>
  <node pkg="mechanism_control" type="spawner.py" args="torso_lift_position_controller" />

  <include file="$(find pr2_default_controllers)/head_position_controller.launch" />

  <node pkg="tf_node" type="tf_node" />
  <node pkg="navfn" type="navfn_node" />
  <include file="$(find angelic_planning)/launch/future_ompl_planning.launch"/>
  <include file="$(find find_bottles)/find_bottle.launch"/>
  <include file="$(find table_object_detector)/table_object_detector.launch"/>

  <node pkg="fk_node" type="fk_node" respawn="true" output="screen">
    <remap from="robot_description" to="robot_description" />
    <remap from="collision_map" to="~collision_map" />
    <remap from="collision_map_update" to="~collision_map_future" />
    <param name="refresh_interval_collision_map" type="double" value="5.0" />
    <param name="refresh_interval_kinematic_state" type="double" value="1.0" />
    <param name="bounding_planes" type="string" value="0 0 1 -0.01" />
    <param name="verbose_collisions" type="bool" value="true" />
    <param name="planning_frame_id" type="string" value="/map" />
  </node>

</launch>
